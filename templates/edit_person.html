{% extends "base.html" %}

{% block title %}Redigera Person{% endblock %}

{% block content %}
<div class="edit-person-container">
    <h1>Redigera Person</h1>
    
    <form method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="first_name">Förnamn</label>
            <input type="text" id="first_name" name="first_name" value="{{ person.first_name }}" required>
        </div>

        <div class="form-group">
            <label for="last_name">Efternamn</label>
            <input type="text" id="last_name" name="last_name" value="{{ person.last_name }}" required>
        </div>

        <div class="form-group">
            <label for="gender">Kön</label>
            <select id="gender" name="gender" required>
                <option value="male" {% if person.gender == 'male' %}selected{% endif %}>Man</option>
                <option value="female" {% if person.gender == 'female' %}selected{% endif %}>Kvinna</option>
            </select>
        </div>

        <div class="form-group">
            <label for="birth_date">Födelsedatum</label>
            <input type="date" id="birth_date" name="birth_date" value="{{ person.birth_date.strftime('%Y-%m-%d') }}" required>
        </div>

        <div class="form-group">
            <label for="photo">Foto</label>
            <input type="file" id="photo" name="photo">
            {% if person.photo_path %}
            <p><img src="{{ url_for('static', filename='uploads/' + person.photo_path.split('/')[-1]) }}" alt="Person Photo" width="100"></p>
            {% endif %}
        </div>

        <button type="submit" class="btn btn-primary">Uppdatera</button>
    </form>

    <a href="{{ url_for('search') }}" class="btn btn-secondary">Tillbaka till sök</a>
</div>
{% endblock %}
